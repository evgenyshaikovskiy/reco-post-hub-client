<div class="topics-page">
  <div class="header">
    <div class="header-text">Read on</div>
    <div class="hashtags">
      @for (item of requestedHashtags; track $index) {
        <div class="hashtag">#{{ item }}</div>
      }
    </div>

    <div class="add-hashtag-input">
      <span class="p-input-icon-right">
        <input
          class="search__input"
          type="text"
          pInputText
          [formControl]="searchControl"
          placeholder="Add hashtag" />
        <i class="pi pi-search"></i>
      </span>
    </div>
    @if (isLoading) {
      <div class="spinner">
        <p-progressSpinner
          styleClass="w-1rem h-1rem"
          strokeWidth="8"
          fill="var(--surface-ground)"
          animationDuration=".5s" />
      </div>
    }
    @if (searchResults.length > 0 && !isLoading) {
      <div class="search-results">
        @for (item of searchResults; track $index) {
          <div
            class="result"
            (click)="addHashtag(item.name)"
            tabindex="0"
            (keydown.enter)="addHashtag(item.name)">
            {{ item.name }}
          </div>
        }
      </div>
    }
  </div>
  <div class="content">
    @for (topic of topics; track $index) {
      <app-topic-preview [topic]="topic"></app-topic-preview>
    }
  </div>
</div>
